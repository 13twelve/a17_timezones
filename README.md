# A17 Timezones

AREA 17 covers multiple timezones around the world. This project displays each timezone, shows the current weather and temperature in the city using Forecast.io and allows you to type a time to see what that time is in the other A17 timezones.

## Developing

### Grunt Tasks:

    $ grunt
    $ grunt watch

For dev purposes: concats but doesn't minify CSS/JS and places the compiled files in /css/ and /js/. These files are not committed to the GIT repo.

    $ grunt images

Scans the images directory, minifies SVGs and produces an images SASS file with an SASS map in it of data-uri images. This file is not committed to the GIT repo.

    $ grunt init

Just cloned the GIT repo and want to get set up? Run this - does all of the above.


### When starting development:

You'll probably want to run:

    $ grunt init && grunt watch

### Images

All the images are grouped in /img/_images.scss which is generated by $ grunt images and saved as dat-uri's to a sassmap.
It doesn't check for the same filenames with different filetypes!

To reference an image in the SASS you need to:

    @include background-image("filename");

Which outputs:

    background-repeat: no-repeat;
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSU");

It will warn you in the Grunt output if you reference an image it hasn't got in the source map. If not, check the image is in the /img/ directory and run:

    $ grunt images

A note about SVGs: Put your original SVG files into /img/svg_source, run "grunt images" and it will minify and put the new versions into /img/
These new SVGs will be ignored by the gitrepo.

### Breakpoints

We have some very very basic responsive happening. There is a $breakpoints sassmap in the _variables.scss. To target a breakpoint in the SASS you need to:

    @include breakpoint(small) {
      .foo { ... }
    }

These values are read by JavaScript and stored in a variable:

    timezones.media_query_in_use

This variable is updated as breakpoints are crossed.

Currently _body.scss manually lists the breakpoints. When grunt-sass supports looping of maps we can use:

    @each $name, $point in $breakpoints {
      @include breakpoint('#{$name}') {
        head {
          font-family: '#{$name}';
        }
        body:after {
          content: '#{$name}';
        }
      }
    }

### git ignored

Among other things:

* compiled CSS
* compiled JS
* minified SVG

### no jQuery

Uses my fork of Remy Sharp's min.js - https://github.com/13twelve/min.js

